# --- DataSource: load from environment / external secret manager ---
spring.datasource.url=${DB_URL:}
spring.datasource.username=${DB_USER:}
spring.datasource.password=${DB_PASSWORD:}

# --- Actuator: expose only what is needed and secure it ---
management.endpoints.web.exposure.include=health,info
management.endpoint.health.show-details=when-authorized
management.endpoints.web.base-path=/actuator
management.server.port=9091   # run actuators on a separate port (optional)

# --- Logging: don't use DEBUG in production ---
logging.level.root=INFO
# log to stdout in containers (avoid local file paths)
logging.file.name=

# --- JWT / OAuth: read secrets from env or secret manager ---
security.oauth2.client.client-id=${OAUTH_CLIENT_ID:}
security.oauth2.client.client-secret=${OAUTH_CLIENT_SECRET:}
jwt.secret=${JWT_SECRET:}

# --- CORS: whitelist origins (example) ---
app.cors.allowed-origins=https://app.example.com

# --- File upload: safer directory + validation ---
file.upload-dir=${FILE_UPLOAD_DIR:/var/app/uploads}
# ensure server runs with least privileges and uploaded files are scanned/validated

# --- Feature flags off by default in prod ---
app.debug=false
app.admin.open=false
